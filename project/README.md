# Synthetic E-commerce Data Project

This project demonstrates a complete data pipeline for a small fictional e-commerce business. It covers synthetic data generation, SQLite ingestion, and analytical reporting so you can prototype dashboards or test data workflows locally with Python 3.10+.

## Repository Layout

```
project/
├─ data/          # JSON datasets generated by scripts/generate_data.py
├─ scripts/       # Python utilities for generation, ingestion, and querying
├─ database/      # SQLite artifacts (ecom.db)
├─ README.md      # This documentation
└─ .gitignore     # Git hygiene
```

## Prerequisites
- Python 3.10 or newer
- SQLite3 CLI (optional, for manual inspection)

All scripts use only the Python standard library, so no extra dependencies are required.

## 1. Generate Synthetic JSON Files
```
cd project
python3 scripts/generate_data.py
```
Creates the five datasets in `data/`:
- `users.json` (50 records)
- `products.json` (40 records)
- `orders.json` (100 records)
- `order_items.json` (200 records)
- `reviews.json` (80 records)

IDs are linked so orders reference valid users, order_items link both orders and products, and reviews tie users to products.

## 2. Ingest JSON into SQLite
```
cd project
python3 scripts/ingest_to_sqlite.py
```
This script will:
1. Create `database/ecom.db` (dropping/recreating tables if they already exist).
2. Enable foreign keys and define tables (`users`, `products`, `orders`, `order_items`, `reviews`).
3. Load every JSON file and insert rows while printing progress updates.

Re-run this script any time you regenerate the JSON to rebuild the database from scratch.

## 3. Run Analytical Queries
```
cd project
python3 scripts/run_queries.py
```
You will see three sections with tabular results:
1. **Total revenue per product** – joins `orders`, `order_items`, and `products` to aggregate revenue.
2. **Top 10 customers by spending** – joins `users`, `orders`, `order_items` to compute lifetime value.
3. **Average rating per product** – joins `products` with `reviews` to provide quality trends.

Use `--db path/to/ecom.db` if you store the database elsewhere.

## 4. Rebuild Everything from Scratch
1. Delete `data/*.json` and `database/ecom.db` if desired.
2. Run `python3 scripts/generate_data.py`.
3. Run `python3 scripts/ingest_to_sqlite.py`.
4. Run `python3 scripts/run_queries.py` to verify.

## 5. Git & GitHub Workflow
```
cd project
git init
git add .
git commit -m "Initial synthetic e-commerce data pipeline"
git tag v1.0.0
# Replace <remote-url> with your repository URL
git remote add origin <remote-url>
git push -u origin main --tags
```
If your default branch is `master` or `main`, adjust the push command accordingly.

## Troubleshooting
- **Missing database**: Run the ingestion script to rebuild `database/ecom.db`.
- **Foreign key errors**: Ensure you regenerated JSON files before ingestion; the script expects matching IDs.
- **Different Python version**: Use `python3.10` explicitly if `python3` points to an older interpreter.
